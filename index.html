<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Cockumber Rubber</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <!-- Фоновый блюр для десктопа -->
    <div id="desktop-bg"></div>

    <!-- Основной игровой контейнер (всегда 9:16 или full mobile) -->
    <div id="game-container">
        
        <!-- ЭКРАН: МЕНЮ -->
        <div id="screen-menu" class="screen active">
            <h1 class="title">COCKUMBER<br>RUBBER</h1>
            <div class="high-score">Рекорд: <span id="best-score">0</span></div>
            <button id="btn-start" class="pixel-btn">НАЧАТЬ</button>
        </div>

        <!-- ЭКРАН: ИГРА -->
        <div id="screen-game" class="screen">
            <!-- HUD -->
            <div class="hud">
                <div class="timer-bar">
                    <div id="timer-fill"></div>
                </div>
                <div class="score-box">
                    SCORE: <span id="game-score">0</span>
                    <div id="combo-display" class="hidden">x1.0</div>
                </div>
            </div>

            <!-- ИГРОВОЕ ПОЛЕ -->
            <div id="cucumber-wrapper">
                <!-- Базовый слой (статичный) -->
                <img src="assets/cucumber_base.png" class="cucumber-base" alt="Base">
                
                <!-- Слои анимации (спрайты, скрыты по умолчанию) -->
                <div id="anim-head" class="anim-layer"></div>
                <div id="anim-body" class="anim-layer"></div>
                <div id="anim-bottom" class="anim-layer"></div>

                <!-- ИНТЕРАКТИВНЫЕ ЗОНЫ (невидимые, ловят касания) -->
                <!-- Верх: Вращение -->
                <div id="zone-head" class="touch-zone">
                    <div class="indicator-icon spin-icon">↻</div>
                    <div id="zone-head-extra" class="extra-target hidden">⬇⬆</div>
                </div>

                <!-- Середина: Трение -->
                <div id="zone-body" class="touch-zone">
                    <div class="indicator-icon rub-icon">↕</div>
                </div>

                <!-- Низ: Тапы -->
                <div id="zone-bottom" class="touch-zone">
                    <div id="tap-target-1" class="tap-target hidden">TAP</div>
                    <div id="tap-target-2" class="tap-target hidden">TAP</div>
                </div>
            </div>
            
            <!-- Всплывающие очки -->
            <div id="particles-container"></div>
        </div>

        <!-- ЭКРАН: РЕЗУЛЬТАТ -->
        <div id="screen-result" class="screen">
            <h2 id="result-title">ПОБЕДА!</h2>
            <div class="result-score">Счёт: <span id="final-score">0</span></div>
            <p id="result-msg">Огурец доволен.</p>
            <button id="btn-retry" class="pixel-btn">ЗАНОВО</button>
            <button id="btn-next" class="pixel-btn hidden">ДАЛЬШЕ</button>
        </div>
    </div>

    <script src="game.js"></script>
</body>
</html>